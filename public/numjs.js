/**
 * Minified by jsDelivr using Terser v5.9.0.
 * Original file: /npm/numjs@0.16.1/src/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
 "use strict";var ndarray=require("ndarray"),cwise=require("cwise"),ops=require("ndarray-ops"),ndFFT=require("ndarray-fft"),CONF=require("./config"),DTYPES=require("./dtypes"),NdArray=require("./ndarray"),_=require("./utils"),errors=require("./errors");function broadcast(r,n){if(0!==r.length&&0!==n.length){for(var e=r.slice().reverse(),t=n.slice().reverse(),a=Math.max(r.length,n.length),o=new Array(a),i=0;i<a;i++)if(e[i]&&1!==e[i])if(t[i]&&1!==t[i]){if(e[i]!==t[i])return;o[i]=e[i]}else o[i]=e[i];else o[i]=t[i];return o.reverse()}}function add(r,n){return NdArray.new(r).add(n)}function multiply(r,n){return NdArray.new(r).multiply(n)}function divide(r,n){return NdArray.new(r).divide(n)}function subtract(r,n){return NdArray.new(r).subtract(n)}function equal(r,n){return NdArray.new(r).equal(n)}function flatten(r){return NdArray.new(r).flatten()}function reshape(r,n){return NdArray.new(r).reshape(n)}function exp(r){return NdArray.new(r).exp()}function log(r){return NdArray.new(r).log()}function sqrt(r){return NdArray.new(r).sqrt()}function power(r,n){return NdArray.new(r).pow(n)}function sum(r){return NdArray.new(r).sum()}function mean(r){return NdArray.new(r).mean()}function std(r,n){return NdArray.new(r).std(n)}function min(r){return NdArray.new(r).min()}function max(r){return NdArray.new(r).max()}function mod(r,n){return NdArray.new(r).mod(n)}function transpose(r,n){return NdArray.new(r).transpose(n)}function negative(r){return NdArray.new(r).negative()}function arange(r,n,e,t){if(1===arguments.length)return arange(0,r,1,void 0);if(2===arguments.length&&_.isNumber(n))return arange(r,n,1,void 0);if(2===arguments.length)return arange(0,r,1,n);if(3===arguments.length&&!_.isNumber(e))return arange(r,n,1,e);for(var a=[],o=0;r<n;)a[o++]=r,r+=e;return NdArray.new(a,t)}function zeros(r,n){_.isNumber(r)&&r>=0&&(r=[r]);var e=_.shapeSize(r),t=_.getType(n),a=new NdArray(new t(e),r);return"array"===a.dtype&&ops.assigns(a.selection,0),a}function ones(r,n){_.isNumber(r)&&r>=0&&(r=[r]);var e=_.shapeSize(r),t=_.getType(n),a=new NdArray(new t(e),r);return ops.assigns(a.selection,1),a}function empty(r,n){_.isNumber(r)&&r>=0&&(r=[r]);var e=_.shapeSize(r),t=_.getType(n);return new NdArray(new t(e),r)}function random(r){if(0===arguments.length)return NdArray.new(Math.random());r=1===arguments.length?_.isNumber(r)?[0|r]:r:[].slice.call(arguments);var n=_.shapeSize(r),e=new NdArray(new Float64Array(n),r);return ops.random(e.selection),e}function softmax(r){var n=NdArray.new(r).exp(),e=n.sum();return ops.divseq(n.selection,e),n}var doSigmoid=cwise({args:["array","scalar"],body:function(r,n){r=r<-30?0:r>30?1:1/(1+Math.exp(-1*n*r))}});function sigmoid(r,n){return r=NdArray.new(r).clone(),n=n||1,doSigmoid(r.selection,n),r}var doClip=cwise({args:["array","scalar","scalar"],body:function(r,n,e){r=Math.min(Math.max(n,r),e)}});function clip(r,n,e){1===arguments.length?(n=0,e=1):2===arguments.length&&(e=1);var t=r instanceof NdArray?r.clone():NdArray.new(r);return doClip(t.selection,n,e),t}var doLeakyRelu=cwise({args:["array","scalar"],body:function(r,n){r=Math.max(n*r,r)}});function leakyRelu(r,n){n=n||.001;var e=r instanceof NdArray?r.clone():NdArray.new(r);return doLeakyRelu(e.selection,n),e}var doTanh=cwise({args:["array"],body:function(r){r=(Math.exp(2*r)-1)/(Math.exp(2*r)+1)}});function tanh(r){var n=r instanceof NdArray?r.clone():NdArray.new(r);return doTanh(n.selection),n}function abs(r){var n=r instanceof NdArray?r.clone():NdArray.new(r);return ops.abseq(n.selection),n}function cos(r){var n=r instanceof NdArray?r.clone():NdArray.new(r);return ops.coseq(n.selection),n}function arccos(r){var n=r instanceof NdArray?r.clone():NdArray.new(r);return ops.acoseq(n.selection),n}function sin(r){var n=r instanceof NdArray?r.clone():NdArray.new(r);return ops.sineq(n.selection),n}function arcsin(r){var n=r instanceof NdArray?r.clone():NdArray.new(r);return ops.asineq(n.selection),n}function tan(r){var n=r instanceof NdArray?r.clone():NdArray.new(r);return ops.taneq(n.selection),n}function arctan(r){var n=r instanceof NdArray?r.clone():NdArray.new(r);return ops.ataneq(n.selection),n}function dot(r,n){return NdArray.new(r).dot(n)}function concatenate(r){var n,e;for(arguments.length>1&&(r=[].slice.call(arguments)),n=0;n<r.length;n++)e=r[n],r[n]=e instanceof NdArray?e.tolist():_.isNumber(e)?[e]:e;var t=r[0];for(n=1;n<r.length;n++){e=r[n];var a=_.getShape(t),o=_.getShape(e);if(a.length!==o.length)throw new errors.ValueError("all the input arrays must have same number of dimensions");if(1===a.length&&1===o.length)t=t.concat(e);else if(2===a.length&&2===o.length&&a[0]===o[0]||1===a.length&&2===o.length&&a[0]===o[0]||2===a.length&&1===o.length&&a[0]===o[0])for(var i=0;i<a[0];i++)t[i]=t[i].concat(e[i]);else{if(!(3===a.length&&3===o.length&&a[0]===o[0]&&a[1]===o[1]||2===a.length&&3===o.length&&a[0]===o[0]&&a[1]===o[1]||3===a.length&&2===o.length&&a[0]===o[0]&&a[1]===o[1]))throw new errors.ValueError('cannot concatenate  "'+a+'" with "'+o+'"');for(var s=0;s<a[0];s++){for(var u=new Array(a[1]),c=0;c<a[1];c++)u[c]=t[s][c].concat(e[s][c]);t[s]=u}}}return NdArray.new(t,r[0].dtype)}function round(r){return NdArray.new(r).round()}function convolve(r,n){return NdArray.new(r).convolve(n)}function fftconvolve(r,n){return NdArray.new(r).fftconvolve(n)}function fft(r){var n=(r=r instanceof NdArray?r.clone():NdArray.new(r)).shape,e=n.length;if(2!==n[e-1])throw new errors.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var t=new Array(e),a=new Array(e);return t[e-1]=0,a[e-1]=1,ndFFT(1,r.selection.pick.apply(r.selection,t),r.selection.pick.apply(r.selection,a)),r}function ifft(r){var n=(r=r instanceof NdArray?r.clone():NdArray.new(r)).shape,e=n.length;if(2!==n[e-1])throw new errors.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var t=new Array(e),a=new Array(e);return t[e-1]=0,a[e-1]=1,ndFFT(-1,r.selection.pick.apply(r.selection,t),r.selection.pick.apply(r.selection,a)),r}function diag(r){return NdArray.new(r).diag()}function identity(r,n){for(var e=zeros([r,r],n),t=0;t<r;t++)e.set(t,t,1);return e}function stack(r,n){if(n=n||0,!r||0===r.length)throw new errors.ValueError("need at least one array to stack");for(var e,t=(r=r.map((function(r){return _.isNumber(r)?r:NdArray.new(r)})))[0].shape||[],a=1;a<r.length;a++)for(var o=r[a].shape||[],i=Math.max(t.length,o.length),s=0;s<i;s++)if(t[s]!==o[s])throw new errors.ValueError("all input arrays must have the same shape");if(0===t.length)e=concatenate(r);else{e=zeros([r.length].concat(t));for(a=0;a<r.length;a++)e.pick(a).assign(r[a],!1)}if(n){n<0&&(n=e.ndim+n);var u=e.ndim,c=new Array(u);for(a=0;a<u;a++)c[a]=a<n?a+1:a===n?0:a;return e.transpose(c)}return e}function flip(r,n){for(var e=ones((r=NdArray.new(r)).ndim).tolist(),t=n;t<0;)t+=r.ndim;if(void 0===e[t])throw new errors.ValueError("axis="+n+"invalid for the "+r.ndim+"-dimensional input array");return e[t]=-1,r.step.apply(r,e)}function rot90(r,n,e){for(n=n||1;n<0;)n+=4;if(n%=4,r=NdArray.new(r),1!==(e=NdArray.new(e||[0,1])).shape.length||2!==e.shape[0])throw new errors.ValueError("len(axes) must be 2");if((e=e.tolist())[0]===e[1]||abs(e[0]-e[1])===r.ndim)throw new errors.ValueError("Axes must be different.");if(0===n)return r;if(2===n)return flip(flip(r,e[0]),e[1]);var t=arange(r.ndim).tolist(),a=t[e[0]];return t[e[0]]=t[e[1]],t[e[1]]=a,1===n?transpose(flip(r,e[1]),t):flip(transpose(r,t),e[1])}module.exports={config:CONF,dtypes:DTYPES,NdArray:NdArray,ndarray:ndarray,array:NdArray.new,arange:arange,reshape:reshape,zeros:zeros,ones:ones,empty:empty,flatten:flatten,flip:flip,random:random,softmax:softmax,sigmoid:sigmoid,leakyRelu:leakyRelu,abs:abs,arccos:arccos,arcsin:arcsin,arctan:arctan,cos:cos,sin:sin,tan:tan,tanh:tanh,clip:clip,exp:exp,log:log,sqrt:sqrt,power:power,sum:sum,mean:mean,std:std,dot:dot,add:add,subtract:subtract,multiply:multiply,divide:divide,negative:negative,equal:equal,max:max,min:min,mod:mod,remainder:mod,concatenate:concatenate,transpose:transpose,errors:errors,broadcast:broadcast,round:round,convolve:convolve,fftconvolve:fftconvolve,fft:fft,ifft:ifft,diag:diag,identity:identity,stack:stack,rot90:rot90,int8:function(r){return NdArray.new(r,"int8")},uint8:function(r){return NdArray.new(r,"uint8")},int16:function(r){return NdArray.new(r,"int16")},uint16:function(r){return NdArray.new(r,"uint16")},int32:function(r){return NdArray.new(r,"int32")},uint32:function(r){return NdArray.new(r,"uint32")},float32:function(r){return NdArray.new(r,"float32")},float64:function(r){return NdArray.new(r,"float64")},images:require("./images")};
 //# sourceMappingURL=/sm/d4d3e127865227ff2c9bc3921c27b7d5ef1deda3d2dc203477470d8ec542590e.map